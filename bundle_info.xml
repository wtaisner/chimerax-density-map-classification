<!--
ChimeraX bundle names must start with "ChimeraX-"
to avoid clashes with package names in pypi.python.org.
When uploaded to the ChimeraX toolshed, the bundle
will be displayed without the ChimeraX- prefix.
-->

<BundleInfo name="ChimeraX-ligand-prediction"
	    version="0.1" package="chimerax.ligand_prediction"
  	    minSessionVersion="1" maxSessionVersion="1">

  <!-- Additional information about bundle source -->
  <Author>Witold Taisner, Anna Przybyłowska, Jacek Karolczak, Dariusz Brzeziński</Author>
  <Email>taisner.witold@gmail.com</Email>
  <URL>https://github.com/wtaisner/chimerax-density-map-classification</URL>

  <!-- Synopsis is a one-line description is a full multi-line description -->
  <Synopsis>This tool takes a PDB structure (.cif) and corresponding density map (.cpp4) to validate class of a ligand.</Synopsis>
  <Description>
    This tool implements a functionality proposed in https://github.com/jkarolczak/ligand-classification and corresponding publication.
    It takes a PDB structure (.cif) and corresponding density map (.cpp4) and then uses a deep learning model to predict class of a ligand.

    Underneath, it performs API call to a REST service to get the prediction, thus no additional software is required to run this tool.

    Usage:
    This tool assumes, that both PDB structure and density map are loaded into ChimeraX.
    Then, it can be run from the command line by pointing to a specific ligand in the PDB structure.

    # TODO: change description to distinguish two modes of usage, i.e. recognize and validate


    The tool implements new commands:
    1. Validation
    - blob validate ligand_id: validates class of a ligand
    - blobus validatus ligand_id: validates class of a ligand but with more magic involved (functionality is the same though)
    Example usage:
    - assumes that both .cif and .ccp4 files are loaded into ChimeraX session.
    - blob validate /A:1401 (also blobus validatus /A:1401) validates a class of ligand, assuming that the ligand is present in the data.
    2. Recognition
    - blob recognize original_map_id surface_id: recognizes class of a ligand
    - blobus recognitus original_map_id surface_id: recognizes class of a ligand but with more magic involved (functionality is the same though)
    Example usage:
    - assuming that the .cif file is loaded as model #1 and the .cpp4 file is loaded as model #2. Furthermore, the blob (i.e. surface object) we want to extract is at #4.1.
    - blob recognize #2 #4.1 (also blobus recognitus #2 #4.1) where #2 is the original map and #4.1 is the blob (or cropped part) we want to recognize.
  </Description>

  <!-- Categories is a list where this bundle should appear -->
  <Categories>
    <Category name="General"/>
  </Categories>


  <!-- DataFiles is a list of additional files to include in bundle -->
  <DataFiles>
    <DataFile>docs/user/commands/blob.html</DataFile>
    <DataFile>docs/user/commands/blobus.html</DataFile>
  </DataFiles>

  <!-- Dependencies on other ChimeraX/Python packages -->
  <Dependencies>
    <Dependency name="ChimeraX-Core" version="~=1.1"/>
    <Dependency name="numpy"/>
    <Dependency name="scipy"/>
  </Dependencies>

  <!-- Python and ChimeraX-specific classifiers
       From https://pypi.python.org/pypi?%3Aaction=list_classifiers
       Some Python classifiers are always inserted by the build process.
       These include the Environment and Operating System classifiers
       as well as:
         Framework :: ChimeraX
         Intended Audience :: Science/Research
         Programming Language :: Python :: 3
         Topic :: Scientific/Engineering :: Visualization
         Topic :: Scientific/Engineering :: Chemistry
         Topic :: Scientific/Engineering :: Bio-Informatics
       The "ChimeraX :: Bundle" classifier is also supplied automatically.  -->
  <Classifiers>
    <!-- Development Status should be compatible with bundle version number -->
    <PythonClassifier>Development Status :: 3 - Alpha</PythonClassifier>
    <PythonClassifier>License :: Freeware</PythonClassifier>
    <!-- ChimeraX classifiers describe supplied functionality -->
    <ChimeraXClassifier>ChimeraX :: Command :: blobus validatus :: General ::
	predicts class of a ligand </ChimeraXClassifier>
    <ChimeraXClassifier>ChimeraX :: Command :: blob validate :: General ::
	predicts class of a ligand </ChimeraXClassifier>
    <ChimeraXClassifier>ChimeraX :: Command :: blob recognize :: General ::
	predicts class of a ligand </ChimeraXClassifier>
    <ChimeraXClassifier>ChimeraX :: Command :: blobus recognitus :: General ::
	predicts class of a ligand </ChimeraXClassifier>
  </Classifiers>

</BundleInfo>
